import e from"./edit.170962620808115.js";import{_ as a,b as l,h as t,E as n}from"./index.1709626208081.js";import{d as o,h as d,a1 as s,k as r,aa as i,a as u,Y as p,S as m,ah as c,ar as f,o as b,b as h,W as D,T as y,R as w}from"./vue.1709626208081.js";import"./validator.1709626208081.js";const _=o({name:"systemOrg",components:{EditDept:e},setup(){const e=d(),a=d(),o=s({tableData:{data:[],loading:!1,param:{name:"",status:-1}}}),u=()=>{o.tableData.loading=!0,l.org.getList(o.tableData.param).then((e=>{o.tableData.data=e}))["finally"]((()=>o.tableData.loading=!1))};return r((()=>{u()})),{queryRef:a,resetQuery:()=>{a.value.resetFields(),u()},editDeptRef:e,deptList:u,onOpenAddDept:a=>{e.value.openDialog(null==a?void 0:a.id)},onOpenEditDept:a=>{e.value.openDialog(a)},onTabelRowDel:e=>{t.confirm(`此操作将永久删除组织：${e.name}, 是否继续?`,"提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((()=>{l.org.del(e.id).then((()=>{n.success("删除成功"),u()}))}))["catch"]((()=>{}))},...i(o)}}}),g={"class":"system-dept-container"},k={"class":"system-dept-search mb15"};var v=a(_,[["render",function(e,a,l,t,n,o){const d=c("el-input"),s=c("el-form-item"),r=c("el-option"),i=c("el-select"),_=c("ele-Search"),v=c("el-icon"),C=c("el-button"),x=c("ele-Refresh"),R=c("ele-FolderAdd"),A=c("el-form"),L=c("el-table-column"),O=c("el-tag"),V=c("el-table"),z=c("el-card"),E=c("EditDept"),T=f("auth"),j=f("col"),q=f("loading");return b(),u("div",g,[p(z,{shadow:"nover"},{"default":m((()=>[h("div",k,[p(A,{model:e.tableData.param,inline:"",ref:"queryRef"},{"default":m((()=>[p(s,{label:"区域名称",prop:"name"},{"default":m((()=>[p(d,{modelValue:e.tableData.param.name,"onUpdate:modelValue":a[0]||(a[0]=a=>e.tableData.param.name=a),placeholder:"请输入区域名称","class":"w-50",clearable:""},null,8,["modelValue"])])),_:1}),p(s,{label:"状态",prop:"status"},{"default":m((()=>[p(i,{placeholder:"请选择状态","class":"w-50",modelValue:e.tableData.param.status,"onUpdate:modelValue":a[1]||(a[1]=a=>e.tableData.param.status=a)},{"default":m((()=>[p(r,{label:"全部",value:-1}),p(r,{label:"启用",value:1}),p(r,{label:"禁用",value:0})])),_:1},8,["modelValue"])])),_:1}),p(s,null,{"default":m((()=>[p(C,{type:"primary","class":"ml10",onClick:e.deptList},{"default":m((()=>[p(v,null,{"default":m((()=>[p(_)])),_:1}),D(" 查询 ")])),_:1},8,["onClick"]),p(C,{onClick:a[2]||(a[2]=a=>e.resetQuery())},{"default":m((()=>[p(v,null,{"default":m((()=>[p(x)])),_:1}),D(" 重置 ")])),_:1}),y((b(),w(C,{type:"primary","class":"ml10",onClick:e.onOpenAddDept},{"default":m((()=>[p(v,null,{"default":m((()=>[p(R)])),_:1}),D(" 新增区域 ")])),_:1},8,["onClick"])),[[T,"add"]])])),_:1})])),_:1},8,["model"])]),y((b(),w(V,{data:e.tableData.data,style:{width:"100%"},"default-expand-all":"","row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},{"default":m((()=>[y(p(L,{prop:"name",label:"区域名称","show-overflow-tooltip":""},null,512),[[j,"name"]]),y(p(L,{prop:"number",label:"区域编号","show-overflow-tooltip":""},null,512),[[j,"number"]]),y((b(),w(L,{prop:"status",label:"区域状态",align:"center","min-width":"120"},{"default":m((e=>[1===e.row.status?(b(),w(O,{key:0,type:"success",size:"small"},{"default":m((()=>[D("启用")])),_:1})):(b(),w(O,{key:1,type:"info",size:"small"},{"default":m((()=>[D("禁用")])),_:1}))])),_:1})),[[j,"status"]]),y(p(L,{prop:"orderNum",label:"排序",align:"center","min-width":"120"},null,512),[[j,"orderNum"]]),y(p(L,{prop:"createdAt",label:"创建时间",align:"center","min-width":"180"},null,512),[[j,"createdAt"]]),y((b(),w(L,{label:"操作",align:"center",width:"140"},{"default":m((a=>[y((b(),w(C,{size:"small",type:"text",onClick:l=>e.onOpenAddDept(a.row)},{"default":m((()=>[D("新增")])),_:2},1032,["onClick"])),[[T,"add"]]),y((b(),w(C,{size:"small",text:"",type:"warning",onClick:l=>e.onOpenEditDept(a.row)},{"default":m((()=>[D("修改")])),_:2},1032,["onClick"])),[[T,"edit"]]),y((b(),w(C,{size:"small",text:"",type:"info",onClick:l=>e.onTabelRowDel(a.row)},{"default":m((()=>[D("删除")])),_:2},1032,["onClick"])),[[T,"del"]])])),_:1})),[[j,"handle"]])])),_:1},8,["data"])),[[q,e.tableData.loading]])])),_:1}),p(E,{ref:"editDeptRef",onDeptList:e.deptList},null,8,["onDeptList"])])}]]);export{v as default};