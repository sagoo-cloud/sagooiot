import{A as e,g as a,h as t,E as d}from"./index.1709626208081.js";const o=e.create({baseURL:a("/base-api/modbus"),timeout:12e4,headers:{"Content-Type":"application/json"}});function r(e,a,t){return o({url:e,method:"get",...t,params:a})}function i(e,a,t){return o({url:e,method:"post",...t,data:a})}o.interceptors.request.use((e=>(localStorage.token&&(e.headers.common.Authorization=`Bearer ${localStorage.token}`),e)),(e=>Promise.reject(e))),o.interceptors.response.use((e=>{var a,o,r,i;const l=e.data,s=e.data.code;if(401!==s)return void 0===s&&void 0===l.message?e:0!==s?(d.closeAll(),d.error(l.message),Promise.reject(new Error(l.message))):void 0!==(null==(a=l.data)?void 0:a.Total)?{list:l.data.Data,total:l.data.Total,page:l.data.currentPage,...l.data}:(null==(o=l.data)?void 0:o.Info)&&(null==(r=l.data)?void 0:r.Data)||void 0===(null==(i=l.data)?void 0:i.Data)?l.data:l.data.Data;t.alert("登录状态已过期，请重新登录","提示",{confirmButtonText:"确定",showCancelButton:!1,closeOnHashChange:!1,closeOnPressEscape:!1,closeOnClickModal:!1,showClose:!1}).then((()=>{localStorage.clear(),window.location.href="/"}))["catch"]((()=>{}))}),(e=>(d.closeAll(),-1!=e.message.indexOf("timeout")?d.error("网络超时"):"Network Error"==e.message?d.error("网络连接错误"):e.response.data?d.error(e.response.statusText):d.error("接口路径找不到"),Promise.reject(e))));var l={getDict:e=>r("/dict",e),getDataId:()=>r("/dict/getdataid"),channel:{getList:e=>r("/device",e),addDevice:e=>i("/device/add",e),deleteDevice:e=>i("/device/delete",e),editDevice:e=>i("/device/edit",e),downloadLog:e=>r("/debug/export_message",{number:e})},data:{getList:e=>r("/device_template",e),addDeviceTemplate:e=>i("/device_template/add",e),editDeviceTemplate:e=>i("/device_template/edit",e),deleteDeviceTemplate:e=>i("/device_template/delete",e)},area:{getList:e=>r("/data_area",e),addDataArea:e=>i("/data_area/add",e),editDataArea:e=>i("/data_area/edit",e),deleteDataArea:e=>i("/data_area/delete",e)},task:{getList:e=>r("/device_job",e),addDeviceJob:e=>i("/device_job/add",e),editDeviceJob:e=>i("/device_job/edit",e),deleteDeviceJob:e=>i("/device_job/delete",e)},template:{getList:e=>r("/template",e),addTemplate:e=>i("/template/add",e),deleteTemplate:e=>i("/template/delete",e),editTemplate:e=>i("/template/edit",e),importFile:(e,a)=>i("/data_area/import",e,a),exportFile:e=>r("/data_area/export",e,{headers:{responseType:"blob"}})}};export{l as a};