import{a as e}from"./modbus.1709626208081.js";import{_ as l,E as t}from"./index.1709626208081.js";import{R as a,S as i,ah as o,o as s,Y as d,W as r}from"./vue.1709626208081.js";var m=l({data:()=>({temp:{title:"",number:"",templateNumber:"",slaveId:"",interval:""},rules:{title:[{required:!0,message:"请输入通道名称",trigger:"blur"}],number:[{required:!0,message:"请输入注册码",trigger:"blur"}],slaveId:[{required:!0,message:"请输入设备地址",trigger:"blur"}]},dialogVisible:!1,listLoading:!1,templateOptions:[]}),methods:{open(){this.dialogVisible=!0},closeDialog(){this.$refs.dataForm.resetFields(),this.dialogVisible=!1},getList(){this.listLoading=!0,e.channel.getList({page:1,size:50}).then((e=>{this.templateOptions=e.list||[]}))["finally"]((()=>{this.listLoading=!1}))},createData(){this.$refs.dataForm.validate((l=>{l&&e.channel.addDevice(this.temp).then((()=>{this.$emit("getList"),this.closeDialog(),t.success("操作成功！")}))}))}}},[["render",function(e,l,t,m,u,n){const p=o("el-input"),g=o("el-form-item"),f=o("el-form"),b=o("el-button"),c=o("el-dialog");return s(),a(c,{title:"添加设备通道",modelValue:u.dialogVisible,"onUpdate:modelValue":l[5]||(l[5]=e=>u.dialogVisible=e),width:"600px","before-close":n.closeDialog,"close-on-click-modal":!1},{footer:i((()=>[d(b,{onClick:l[3]||(l[3]=e=>n.closeDialog())},{"default":i((()=>[r(" 取 消 ")])),_:1}),d(b,{type:"primary",onClick:l[4]||(l[4]=e=>n.createData())},{"default":i((()=>[r(" 保 存 ")])),_:1})])),"default":i((()=>[d(f,{ref:"dataForm",rules:u.rules,model:u.temp,"label-position":"left","label-width":"120px",style:{width:"90%",margin:"0 auto"}},{"default":i((()=>[d(g,{label:"通道名称",prop:"title"},{"default":i((()=>[d(p,{modelValue:u.temp.title,"onUpdate:modelValue":l[0]||(l[0]=e=>u.temp.title=e),modelModifiers:{trim:!0},placeholder:"请输入通道名称"},null,8,["modelValue"])])),_:1}),d(g,{label:"注册码",prop:"number"},{"default":i((()=>[d(p,{modelValue:u.temp.number,"onUpdate:modelValue":l[1]||(l[1]=e=>u.temp.number=e),modelModifiers:{trim:!0},placeholder:"请输入注册码"},null,8,["modelValue"])])),_:1}),d(g,{label:"设备地址",prop:"slaveId"},{"default":i((()=>[d(p,{modelValue:u.temp.slaveId,"onUpdate:modelValue":l[2]||(l[2]=e=>u.temp.slaveId=e),modelModifiers:{number:!0},placeholder:"请输入设备地址"},null,8,["modelValue"])])),_:1})])),_:1},8,["rules","model"])])),_:1},8,["modelValue","before-close"])}]]);export{m as default};